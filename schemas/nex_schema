/* Misc */
DROP TABLE ALIAS;
CREATE TABLE ALIAS ( 
ALIAS_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
CATEGORY VARCHAR2(40), 
SOURCE VARCHAR2(40) NOT NULL, 
OBJ_ID INTEGER NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT ALIAS_PK PRIMARY KEY (ALIAS_ID), 
CONSTRAINT ALIAS_UK UNIQUE (DISPLAY_NAME, OBJ_ID) ) TABLESPACE DATA1;
CREATE INDEX ALIAS_OBJID_INDEX ON ALIAS (OBJ_ID) TABLESPACE DATA1;
DROP SEQUENCE ALIAS_SEQ;
CREATE SEQUENCE ALIAS_SEQ NOCACHE;

DROP TABLE URL;
CREATE TABLE URL ( 
URL_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
URL VARCHAR2(500) NOT NULL, 
CATEGORY VARCHAR2(40), 
SOURCE VARCHAR2(40) NOT NULL, 
OBJ_ID INTEGER NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT URL_PK PRIMARY KEY (URL_ID), 
CONSTRAINT URL_UK UNIQUE (URL, OBJ_ID) ) TABLESPACE DATA2;
CREATE INDEX URL_OBJID_INDEX ON URL (OBJ_ID) TABLESPACE DATA2;
DROP SEQUENCE URL_SEQ;
CREATE SEQUENCE URL_SEQ NOCACHE;

DROP TABLE PARAGRAPH;
CREATE TABLE PARAGRAPH ( 
PARAGRAPH_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
TEXT CLOB NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT PARAGRAPH_PK PRIMARY KEY (PARAGRAPH_ID) ) TABLESPACE DATA1;
CREATE INDEX PARA_BIOENT_FK_INDEX ON BIOENTITY (BIOENTITY_ID) TABLESPACE DATA1;
ALTER TABLE PARAGRAPH 
ADD CONSTRAINT PARA_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
DROP SEQUENCE PARA_SEQ;
CREATE SEQUENCE PARA_SEQ NOCACHE;

DROP TABLE PARAGRAPH_REFERENCE;
CREATE TABLE PARAGRAPH_REFERENCE ( 
PARAGRAPH_REFERENCE_ID INTEGER NOT NULL, 
PARAGRAPH_ID INTEGER NOT NULL, 
REFERENCE_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
CONSTRAINT PARAGRAPH_REFERENCE_PK PRIMARY KEY (PARAGRAPH_REFERENCE_ID), 
CONSTRAINT PARAGRAPH_REFERENCE_UK UNIQUE (PARAGRAPH_ID, REFERENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX PARAREF_REF_FK_INDEX ON REFERENCE (REFERENCE_ID) TABLESPACE DATA1;
ALTER TABLE PARAGRAPH_REFERENCE 
ADD CONSTRAINT PARAREF_PARA_FK FOREIGN KEY (PARAGRAPH_ID) REFERENCES PARAGRAPH (PARAGRAPH_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PARAGRAPH_REFERENCE 
ADD CONSTRAINT PARAREF_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
DROP SEQUENCE PARAREF_SEQ;
CREATE SEQUENCE PARAREF_SEQ NOCACHE;

DROP TABLE AUX_LOCUSTABS;
CREATE TABLE AUX_LOCUSTABS ( 
BIOENTITY_ID INTEGER NOT NULL, 
SUMMARY NUMBER(1) NOT NULL, 
HISTORY NUMBER(1) NOT NULL, 
LITERATURE NUMBER(1) NOT NULL, 
GO NUMBER(1) NOT NULL, 
PHENOTYPE NUMBER(1) NOT NULL, 
INTERACTIONS NUMBER(1) NOT NULL, 
EXPRESSION NUMBER(1) NOT NULL, 
REGULATION NUMBER(1) NOT NULL, 
PROTEIN NUMBER(1) NOT NULL, 
WIKI NUMBER(1) NOT NULL, 
CONSTRAINT AUX_LOCUSTABS_PK PRIMARY KEY (BIOENTITY_ID) ) TABLESPACE DATA1;

DROP TABLE AUX_DISAMBIG;
CREATE TABLE AUX_DISAMBIG ( 
AUX_DISAMBIG_ID INTEGER NOT NULL, 
DISAMBIG_KEY VARCHAR2(200) NOT NULL, 
CLASS_TYPE VARCHAR(40) NOT NULL, 
SUBCLASS_TYPE VARCHAR(40), 
OBJ_ID INTEGER NOT NULL, 
CONSTRAINT AUX_DISAMBIG_PK PRIMARY KEY (AUX_DISAMBIG_ID), 
CONSTRAINT AUX_DISAMBIG_UK UNIQUE (DISAMBIG_KEY, CLASS_TYPE, SUBCLASS_TYPE) ) TABLESPACE DATA1;
CREATE INDEX AUX_DISAMBIG_OBJID_INDEX ON DISAMBIG (OBJ_ID) TABLESPACE DATA1;
DROP SEQUENCE AUX_DISAMBIG_SEQ;
CREATE SEQUENCE AUX_DISAMBIG_SEQ NOCACHE;

/* Reference */

DROP TABLE BOOK;
CREATE TABLE BOOK ( 
BOOK_ID INTEGER NOT NULL, 
TITLE VARCHAR2(200) NOT NULL, 
VOLUME_TITLE VARCHAR2(200), 
ISBN VARCHAR2(20), 
TOTAL_PAGES INTEGER, 
PUBLISHER VARCHAR2(100), 
PUBLISHER_LOCATION VARCHAR2(100), 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT BOOK_PK PRIMARY KEY (BOOK_ID), 
CONSTRAINT BOOK_UK UNIQUE (TITLE, VOLUME_TITLE) ) TABLESPACE DATA1;

DROP TABLE JOURNAL;
CREATE TABLE JOURNAL ( 
JOURNAL_ID INTEGER NOT NULL, 
MED_ABBR VARCHAR2(100) NOT NULL, 
TITLE VARCHAR2(200),
ISSN_PRINT VARCHAR2(20), 
ISSN_ONLINE VARCHAR2(20), 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT JOURNAL_PK PRIMARY KEY (JOURNAL_ID), 
CONSTRAINT JOURNAL_UK UNIQUE (MED_ABBR, TITLE) ) TABLESPACE DATA1;

DROP TABLE REFERENCE;
CREATE TABLE REFERENCE ( 
REFERENCE_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
SGDID VARCHAR2(40) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
REF_STATUS VARCHAR2(40) NOT NULL, 
FULLTEXT_STATUS VARCHAR2(40) NOT NULL, 
CITATION VARCHAR2(500) NOT NULL, 
YEAR INTEGER NOT NULL, 
PUBMED_ID INTEGER, 
PUBMED_CENTRAL_ID INTEGER, 
DATE_PUBLISHED VARCHAR2(40), 
DATE_REVISED DATE,
ISSUE VARCHAR2(40), 
PAGE VARCHAR2(40), 
VOLUME VARCHAR2(40), 
TITLE VARCHAR2(400), 
JOURNAL_ID INTEGER, 
BOOK_ID INTEGER, 
DOI VARCHAR2(100), 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT REFERENCE_PK PRIMARY KEY (REFERENCE_ID), 
CONSTRAINT REFERENCE_SGDID_UK UNIQUE (SGDID), 
CONSTRAINT REFERENCE_CITATION_UK UNIQUE (CITATION) ) TABLESPACE DATA2;
CREATE INDEX REF_BOOK_FK_INDEX ON REFERENCE (BOOK_ID) TABLESPACE DATA2;
CREATE INDEX REF_JOURNAL_FK_INDEX ON REFERENCE (JOURNAL_ID) TABLESPACE DATA2;
ALTER TABLE REFERENCE 
ADD CONSTRAINT REF_JOURNAL_FK FOREIGN KEY (JOURNAL_ID) REFERENCES JOURNAL (JOURNAL_ID) 
NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE 
ADD CONSTRAINT REF_BOOK_FK FOREIGN KEY (BOOK_ID) REFERENCES BOOK (BOOK_ID) 
NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE REFERENCE_RELATION;
CREATE TABLE REFERENCE_RELATION ( 
REFERENCE_RELATION_ID INTEGER NOT NULL, 
PARENT_REFERENCE_ID INTEGER NOT NULL, 
CHILD_REFERENCE_ID INTEGER NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT REFERENCE_RELATION_PK PRIMARY KEY (REFERENCE_RELATION_ID), 
CONSTRAINT REFERENCE_RELATION_UK UNIQUE (CHILD_REFERENCE_ID, PARENT_REFERENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX REFREL_PARENT_FK_INDEX ON REFERENCE_RELATION (PARENT_REFERENCE_ID) TABLESPACE DATA1;
ALTER TABLE REFERENCE_RELATION 
ADD CONSTRAINT REFREL_CHILD_FK FOREIGN KEY (CHILD_REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REFERENCE_RELATION 
ADD CONSTRAINT REFREL_PARENT_FK FOREIGN KEY (PARENT_REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE ABSTRACT;
CREATE TABLE ABSTRACT ( 
REFERENCE_ID INTEGER NOT NULL, 
TEXT CLOB NOT NULL, 
CONSTRAINT ABSTRACT_PK PRIMARY KEY (REFERENCE_ID) ) TABLESPACE DATA2;
ALTER TABLE ABSTRACT 
ADD CONSTRAINT ABSTRACT_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE BIBENTRY;
CREATE TABLE BIBENTRY ( 
REFERENCE_ID INTEGER NOT NULL, 
TEXT CLOB NOT NULL, 
CONSTRAINT BIBENTRY_PK PRIMARY KEY (REFERENCE_ID) ) TABLESPACE DATA2;
ALTER TABLE BIBENTRY 
ADD CONSTRAINT BIB_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE REFTYPE;
CREATE TABLE REFTYPE ( 
REFTYPE_ID INTEGER NOT NULL, 
REFTYPE VARCHAR2(100) NOT NULL, 
REFERENCE_ID INTEGER NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
CONSTRAINT REFTYPE_PK PRIMARY KEY (REFTYPE_ID), 
CONSTRAINT REFTYPE_UK UNIQUE (REFERENCE_ID, REFTYPE) ) TABLESPACE DATA1;
ALTER TABLE REFTYPE 
ADD CONSTRAINT REFTYPE_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE AUTHOR;
CREATE TABLE AUTHOR ( 
AUTHOR_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT AUTHOR_PK PRIMARY KEY (AUTHOR_ID), 
CONSTRAINT AUTHOR_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA1;

DROP TABLE AUTHOR_REFERENCE;
CREATE TABLE AUTHOR_REFERENCE ( 
AUTHOR_REFERENCE_ID INTEGER NOT NULL, 
AUTHOR_ID INTEGER NOT NULL, 
REFERENCE_ID INTEGER NOT NULL, 
AUTHOR_ORDER INTEGER NOT NULL, 
AUTHOR_TYPE VARCHAR2(40) NOT NULL, 
CONSTRAINT AUTHOR_REFERENCE_PK PRIMARY KEY (AUTHOR_REFERENCE_ID), 
CONSTRAINT AUTHOR_REFERENCE_UK UNIQUE (AUTHOR_ORDER, REFERENCE_ID, AUTHOR_ID) ) TABLESPACE DATA1;
CREATE INDEX AUTHORREF_REF_FK_INDEX ON AUTHOR_REFERENCE (REFERENCE_ID) TABLESPACE DATA1;
CREATE INDEX AUTHORREF_AUTHOR_FK_INDEX ON AUTHOR_REFERENCE (AUTHOR_ID) TABLESPACE DATA1;
ALTER TABLE AUTHOR_REFERENCE 
ADD CONSTRAINT AUTHORREF_AUTHOR_FK FOREIGN KEY (AUTHOR_ID) REFERENCES AUTHOR (AUTHOR_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE AUTHOR_REFERENCE 
ADD CONSTRAINT AUTHORREF_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

/* Evidence Element */

DROP TABLE EXPERIMENT;
CREATE TABLE EXPERIMENT ( 
EXPERIMENT_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
ECO_ID VARCHAR2(20), 
DESCRIPTION VARCHAR2(400), 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT EXPERIMENT_PK PRIMARY KEY (EXPERIMENT_ID), 
CONSTRAINT EXPERIMENT_UK UNIQUE (DISPLAY_NAME) ) TABLESPACE DATA1;
DROP SEQUENCE EXPERIMENT_SEQ;
CREATE SEQUENCE EXPERIMENT_SEQ NOCACHE;

DROP TABLE EXPERIMENT_RELATION;
CREATE TABLE EXPERIMENT_RELATION ( 
EXPERIMENT_RELATION_ID INTEGER NOT NULL, 
PARENT_EXPERIMENT_ID INTEGER NOT NULL, 
CHILD_EXPERIMENT_ID INTEGER NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT EXPERIMENT_RELATION_PK PRIMARY KEY (EXPERIMENT_RELATION_ID), 
CONSTRAINT EXPERIMENT_RELATION_UK UNIQUE (CHILD_EXPERIMENT_ID, PARENT_EXPERIMENT_ID) ) TABLESPACE DATA1;
CREATE INDEX EXPTREL_PARENT_FK_INDEX ON EXPERIMENT_RELATION (PARENT_EXPERIMENT_ID) TABLESPACE DATA1;
ALTER TABLE EXPERIMENT_RELATION 
ADD CONSTRAINT EXPTREL_CHILD_FK FOREIGN KEY (CHILD_EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EXPERIMENT_RELATION 
ADD CONSTRAINT EXPTREL_PARENT_FK FOREIGN KEY (PARENT_EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE STRAIN;
CREATE TABLE STRAIN ( 
STRAIN_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
DESCRIPTION VARCHAR2(400), 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT STRAIN_PK PRIMARY KEY (STRAIN_ID), 
CONSTRAINT STRAIN_UK UNIQUE (DISPLAY_NAME) ) TABLESPACE DATA1;
DROP SEQUENCE STRAIN_SEQ;
CREATE SEQUENCE STRAIN_SEQ NOCACHE;

DROP TABLE EVIDENCE;
CREATE TABLE EVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL,
REFERENCE_ID INTEGER NOT NULL,
EXPERIMENT_ID INTEGER NOT NULL,
STRAIN_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
NOTE VARCHAR2(1000), 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT EVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA2;
CREATE INDEX EV_REF_FK_INDEX ON EVIDENCE (REFERENCE_ID) TABLESPACE DATA2;
CREATE INDEX EV_STRAIN_FK_INDEX ON EVIDENCE (STRAIN_ID) TABLESPACE DATA2;
CREATE INDEX EV_EXPT_FK_INDEX ON EVIDENCE (EXPERIMENT_ID) TABLESPACE DATA2;
ALTER TABLE EVIDENCE 
ADD CONSTRAINT EV_REF_FK FOREIGN KEY (REFERENCE_ID) REFERENCES REFERENCE (REFERENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE 
ADD CONSTRAINT EV_STRAIN_FK FOREIGN KEY (STRAIN_ID) REFERENCES STRAIN (STRAIN_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE 
ADD CONSTRAINT EV_EXPT_FK FOREIGN KEY (EXPERIMENT_ID) REFERENCES EXPERIMENT (EXPERIMENT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

/* Bioentity */

DROP TABLE BIOENTITY;
CREATE TABLE BIOENTITY ( 
BIOENTITY_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
SGDID VARCHAR2(40) NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
BIOENT_STATUS VARCHAR2(40) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT BIOENTITY_PK PRIMARY KEY (BIOENTITY_ID), 
CONSTRAINT BIOENTITY_UK UNIQUE (CLASS, FORMAT_NAME) ) TABLESPACE DATA1;

DROP TABLE QUALIFIEREVIDENCE;
CREATE TABLE QUALIFIEREVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
QUALIFIER VARCHAR2(40) NOT NULL, 
CONSTRAINT QUALIFIEREVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX QUALEV_QUALIFIER_INDEX ON QUALIFIEREVIDENCE (QUALIFIER) TABLESPACE	DATA1;
CREATE INDEX QUALEV_BIOENT_FK_INDEX ON QUALIFIEREVIDENCE (BIOENTITY_ID) TABLESPACE DATA1;
ALTER TABLE QUALIFIEREVIDENCE 
ADD CONSTRAINT QUALEV_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE QUALIFIEREVIDENCE 
ADD CONSTRAINT QUALEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE LOCUSBIOENTITY;
CREATE TABLE LOCUSBIOENTITY ( 
BIOENTITY_ID INTEGER NOT NULL, 
LOCUS_TYPE VARCHAR2(40) NOT NULL, 
NAME_DESCRIPTION VARCHAR2(100), 
GENETIC_POSITION NUMBER, 
HEADLINE VARCHAR2(70), 
DESCRIPTION VARCHAR2(500), 
CONSTRAINT LOCUSBIOENTITY_PK PRIMARY KEY (BIOENTITY_ID) ) TABLESPACE DATA1;
ALTER TABLE LOCUSBIOENTITY 
ADD CONSTRAINT LOCUS_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID);

DROP TABLE PROTEINBIOENTITY;
CREATE TABLE PROTEINBIOENTITY ( 
BIOENTITY_ID INTEGER NOT NULL, 
LOCUS_ID INTEGER NOT NULL, 
MOLECULAR_WEIGHT INTEGER, 
PROTEIN_LENGTH INTEGER, 
N_TERM_SEQ VARCHAR2(40), 
C_TERM_SEQ VARCHAR2(40), 
CONSTRAINT PROTEINBIOENTITY_PK PRIMARY KEY (BIOENTITY_ID) ) TABLESPACE DATA1;
CREATE INDEX PROTBIOENT_LOCUS_FK_INDEX ON PROTEINBIOENTITY (LOCUS_ID) TABLESPACE DATA1;
ALTER TABLE PROTEINBIOENTITY 
ADD CONSTRAINT PROTBIOENT_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID);
ALTER TABLE PROTEINBIOENTITY 
ADD CONSTRAINT PROTBIOENT_LOCUS_FK FOREIGN KEY (LOCUS_ID) REFERENCES BIOENTITY (BIOENTITY_ID);

DROP TABLE PDOMAIN;
CREATE TABLE PDOMAIN ( 
PDOMAIN_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
DESCRIPTION VARCHAR2(500), 
INTERPRO_ID VARCHAR2(20), 
INTERPRO_DESCRIPTION VARCHAR2(500), 
OBJ_URL VARCHAR2(500) NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT PDOMAIN_PK PRIMARY KEY (PDOMAIN_ID), 
CONSTRAINT PDOMAIN_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA1;
DROP SEQUENCE PDOMAIN_SEQ;
CREATE SEQUENCE PDOMAIN_SEQ NOCACHE;

DROP TABLE PDOMAINEVIDENCE;
CREATE TABLE PDOMAINEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
PROTEIN_ID INTEGER NOT NULL, 
PDOMAIN_ID INTEGER NOT NULL, 
START_INDEX INTEGER, 
END_INDEX INTEGER, 
EVALUE VARCHAR2(40), 
PDOMAIN_STATUS VARCHAR2(40), 
DATE_OF_RUN VARCHAR2(40), 
CONSTRAINT PDOMAINEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX PDOMAINEV_BIOENT_FK_INDEX ON PDOMAINEVIDENCE (PROTEIN_ID) TABLESPACE DATA1;
CREATE INDEX PDOMAINEV_PDOMAIN_FK_INDEX ON PDOMAINEVIDENCE (PDOMAIN_ID) TABLESPACE DATA1;
ALTER TABLE PDOMAINEVIDENCE 
ADD CONSTRAINT PDOMAINEV_BIOENT_FK FOREIGN KEY (PROTEIN_ID) REFERENCES PROTEIN (PROTEIN_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PDOMAINEVIDENCE 
ADD CONSTRAINT PDOMAINEV_PDOMAIN_FK FOREIGN KEY (PDOMAIN_ID) REFERENCES PDOMAIN (PDOMAIN_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PDOMAINEVIDENCE 
ADD CONSTRAINT PDOMAINEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE AUX_BIOENTITY_REFERENCE;
CREATE TABLE AUX_BIOENTITY_REFERENCE ( 
AUX_BIOENTITY_REFERENCE_ID INTEGER, 
BIOENTITY_ID INTEGER NOT NULL, 
REFERENCE_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
CONSTRAINT AUX_BIOENTITY_REFERENCE_PK PRIMARY KEY (AUX_BIOENTITY_REFERENCE_ID), 
CONSTRAINT AUX_BIOENTITY_REFERENCE_UK UNIQUE (BIOENTITY_ID, CLASS, REFERENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX AUX_BIOENTREF_REF_INDEX ON AUX_BIOENTITY_REFERENCE (REFERENCE_ID) TABLESPACE DATA1;
DROP SEQUENCE AUX_BIOENTTITY_REFERENCE_SEQ;
CREATE SEQUENCE AUX_BIOENTITY_REFERENCE_SEQ NOCACHE;

/* Interaction */

DROP TABLE GENINTERACTIONEVIDENCE;
CREATE TABLE GENINTERACTIONEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
PHENOTYPE_ID INTEGER NOT NULL, 
ANNOTATION_TYPE VARCHAR2(40) NOT NULL, 
BAIT_HIT VARCHAR2(20) NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
CONSTRAINT GENINTERACTIONEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX GENINTEV_BIOENT2_INDEX ON GENINTERACTIONEVIDENCE (BIOENTITY2_ID) TABLESPACE DATA1;
CREATE INDEX GENINTEV_BIOENT1_INDEX ON GENINTERACTIONEVIDENCE (BIOENTITY1_ID) TABLESPACE DATA1;
CREATE INDEX GENINTEV_PHENO_FK_INDEX ON GENINTERACTIONEVIDENCE (PHENOTYPE_ID) TABLESPACE DATA1;
ALTER TABLE GENINTERACTIONEVIDENCE 
ADD CONSTRAINT GENINTEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GENINTERACTIONEVIDENCE 
ADD CONSTRAINT GENINTEV_PHENO_FK FOREIGN KEY (PHENOTYPE_ID) REFERENCES PHENOTYPEBIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE PHYSINTERACTIONEVIDENCE;
CREATE TABLE PHYSINTERACTIONEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
MODIFICATION VARCHAR2(40) NOT NULL, 
ANNOTATION_TYPE VARCHAR2(40) NOT NULL, 
BAIT_HIT VARCHAR2(20) NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
CONSTRAINT PHYSINTERACTIONEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX PHYSINTEV_BIOENT2_INDEX ON PHYSINTERACTIONEVIDENCE (BIOENTITY2_ID) TABLESPACE DATA1;
CREATE INDEX PHYSINTEV_BIOENT1_INDEX ON PHYSINTERACTIONEVIDENCE (BIOENTITY1_ID) TABLESPACE DATA1;
ALTER TABLE PHYSINTERACTIONEVIDENCE 
ADD CONSTRAINT PHYSINTEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE AUX_INTERACTION;
CREATE TABLE AUX_INTERACTION ( 
AUX_INTERACTION_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
EVIDENCE_COUNT INTEGER NOT NULL, 
CONSTRAINT AUX_INTERACTION_PK PRIMARY KEY (AUX_INTERACTION_ID), 
CONSTRAINT AUX_INTERACTION_CLASS_UK UNIQUE (CLASS, BIOENTITY2_ID, BIOENTITY1_ID), 
CONSTRAINT AUX_INTERACTION_FORMATNAME_UK UNIQUE (FORMAT_NAME, CLASS) ) TABLESPACE DATA2;
CREATE INDEX AUX_INTERACTION_BIOENT2_INDEX ON AUX_INTERACTION (BIOENTITY2_ID) TABLESPACE DATA2;
CREATE INDEX AUX_INTERACTION_BIOENT1_INDEX ON AUX_INTERACTION (BIOENTITY1_ID) TABLESPACE DATA2;
DROP SEQUENCE AUX_INTERACTION_SEQ;
CREATE SEQUENCE AUX_INTERACTION_SEQ NOCACHE;

DROP TABLE AUX_INTERACTION_FAMILY;
CREATE TABLE AUX_INTERACTION_FAMILY ( 
AUX_INTERACTION_FAMILY_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
EVIDENCE_COUNT INTEGER NOT NULL, 
GEN_EV_COUNT INTEGER NOT NULL, 
PHYS_EV_COUNT INTEGER NOT NULL, 
CONSTRAINT AUX_INTERACTION_FAMILY_PK PRIMARY KEY (AUX_INTERACTION_FAMILY_ID), 
CONSTRAINT AUX_INTERACTION_FAMILY_UK UNIQUE (BIOENTITY_ID, BIOENTITY2_ID, BIOENTITY1_ID) ) TABLESPACE DATA1;
DROP SEQUENCE AUX_INTERACTION_FAMILY_SEQ;
CREATE SEQUENCE AUX_INTERACTION_FAMILY_SEQ NOCACHE;

/* Literature */

DROP TABLE LITERATUREEVIDENCE;
CREATE TABLE LITERATUREEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
TOPIC VARCHAR2(40) NOT NULL, 
CONSTRAINT LITERATUREEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX LITEV_BIOENT_FK_INDEX ON LITERATUREEVIDENCE (BIOENTITY_ID) TABLESPACE DATA1;
ALTER TABLE LITERATUREEVIDENCE 
ADD CONSTRAINT LITEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE LITERATUREEVIDENCE 
ADD CONSTRAINT LITEV_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

/* Regulation */

DROP TABLE REGULATIONEVIDENCE;
CREATE TABLE REGULATIONEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
CONDITIONS VARCHAR2(100), 
CONSTRAINT REGULATIONEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX REGEV_BIOENT2_FK_INDEX ON REGULATIONEVIDENCE (BIOENTITY2_ID) TABLESPACE DATA1;
CREATE INDEX REGEV_BIOENT1_FK_INDEX ON REGULATIONEVIDENCE (BIOENTITY1_ID) TABLESPACE DATA1;
ALTER TABLE REGULATIONEVIDENCE 
ADD CONSTRAINT REGEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONEVIDENCE 
ADD CONSTRAINT REGEV_BIOENT2_FK FOREIGN KEY (BIOENTITY2_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE REGULATIONEVIDENCE 
ADD CONSTRAINT REGEV_BIOENT1_FK FOREIGN KEY (BIOENTITY1_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE AUX_REGULATION_FAMILY;
CREATE TABLE AUX_REGULATION_FAMILY ( 
AUX_REGULATION_FAMILY_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
BIOENTITY1_ID INTEGER NOT NULL, 
BIOENTITY2_ID INTEGER NOT NULL, 
EVIDENCE_COUNT INTEGER NOT NULL, 
CONSTRAINT AUX_REGULATION_FAMILY_PK PRIMARY KEY (AUX_REGULATION_FAMILY_ID), 
CONSTRAINT AUX_REGULATION_FAMILY_UK UNIQUE (BIOENTITY_ID, BIOENTITY2_ID, BIOENTITY1_ID) ) TABLESPACE DATA1;
DROP SEQUENCE AUX_REGULATION_FAMILY_SEQ;
CREATE SEQUENCE AUX_REGULATION_FAMILY_SEQ NOCACHE;

/* Binding */

DROP TABLE BINDINGEVIDENCE;
CREATE TABLE BINDINGEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
TOTAL_SCORE VARCHAR2(10) NOT NULL, 
EXPERT_CONFIDENCE VARCHAR2(40) NOT NULL, 
IMG_URL VARCHAR2(150) NOT NULL, 
MOTIF_ID INTEGER NOT NULL, 
CONSTRAINT BINDINGEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX BINDEV_BIOENT_FK_INDEX ON BINDINGEVIDENCE (BIOENTITY_ID) TABLESPACE DATA1;
ALTER TABLE BINDINGEVIDENCE 
ADD CONSTRAINT BINDEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE BINDINGEVIDENCE 
ADD CONSTRAINT BINDEV_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

/* Bioconcept */

DROP TABLE BIOCONCEPT;
CREATE TABLE BIOCONCEPT ( 
BIOCONCEPT_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL,
CLASS VARCHAR2(40) NOT NULL, 
SGDID VARCHAR2(40), 
DESCRIPTION VARCHAR2(2000), 
OBJ_URL VARCHAR2(500), 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT BIOCONCEPT_PK PRIMARY KEY (BIOCONCEPT_ID), 
CONSTRAINT BIOCONCEPT_UK UNIQUE (CLASS, FORMAT_NAME) ) TABLESPACE DATA1;

DROP TABLE BIOCONCEPT_RELATION;
CREATE TABLE BIOCONCEPT_RELATION ( 
BIOCONCEPT_RELATION_ID INTEGER NOT NULL, 
PARENT_BIOCONCEPT_ID INTEGER NOT NULL, 
CHILD_BIOCONCEPT_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
RELATIONSHIP_TYPE VARCHAR2(40) NOT NULL, 
CONSTRAINT BIOCONCEPT_RELATION_PK PRIMARY KEY (BIOCONCEPT_RELATION_ID), 
CONSTRAINT BIOCONCEPT_RELATION_UK UNIQUE (CLASS, RELATIONSHIP_TYPE, CHILD_BIOCONCEPT_ID, PARENT_BIOCONCEPT_ID) ) TABLESPACE DATA1;
CREATE INDEX BIOCONREL_CHILD_INDEX ON BIOCONCEPT_RELATION (CHILD_BIOCONCEPT_ID) TABLESPACE DATA1;
CREATE INDEX BIOCONREL_PARENT_INDEX ON BIOCONCEPT_RELATION (PARENT_BIOCONCEPT_ID) TABLESPACE DATA1;
ALTER TABLE BIOCONCEPT_RELATION 
ADD CONSTRAINT BIOCONREL_CHILD_FK FOREIGN KEY (CHILD_BIOCONCEPT_ID) REFERENCES BIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE BIOCONCEPT_RELATION 
ADD CONSTRAINT BIOCONREL_PARENT_FK FOREIGN KEY (PARENT_BIOCONCEPT_ID) REFERENCES BIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
DROP SEQUENCE BIOCONREL_SEQ;
CREATE SEQUENCE BIOCONREL_SEQ NOCACHE;

DROP TABLE AUX_BIOCONCEPT_ANCESTOR;
CREATE TABLE AUX_BIOCONCEPT_ANCESTOR ( 
AUX_BIOCONCEPT_ANCESTOR_ID INTEGER NOT NULL, 
ANCESTOR_BIOCONCEPT_ID INTEGER NOT NULL, 
CHILD_BIOCONCEPT_ID INTEGER NOT NULL,  
CLASS VARCHAR2(40) NOT NULL,
GENERATION INTEGER NOT NULL, 
CONSTRAINT AUX_BIOCONCEPT_ANCESTOR_PK PRIMARY KEY (AUX_BIOCONCEPT_ANCESTOR_ID) ) TABLESPACE DATA2;
DROP SEQUENCE AUX_BIOCONCEPT_ANCESTOR_SEQ;
CREATE SEQUENCE AUX_BIOCONCEPT_ANCESTOR_SEQ NOCACHE;

DROP TABLE AUX_BIOFACT;
CREATE TABLE AUX_BIOFACT ( 
AUX_BIOFACT_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL, 
BIOCONCEPT_ID INTEGER NOT NULL, 
CLASS VARCHAR2(40) NOT NULL, 
CONSTRAINT AUX_BIOFACT_PK PRIMARY KEY (AUX_BIOFACT_ID), 
CONSTRAINT AUX_BIOFACT_UK UNIQUE (CLASS, BIOCONCEPT_ID, BIOENTITY_ID) ) TABLESPACE DATA1;
CREATE INDEX AUX_BIOFACT_BIOCON_INDEX ON AUX_BIOFACT (BIOCONCEPT_ID) TABLESPACE DATA1;
CREATE INDEX AUX_BIOFACT_BIOENT_INDEX ON AUX_BIOFACT (BIOENTITY_ID) TABLESPACE DATA1;
DROP SEQUENCE AUX_BIOFACT_SEQ;
CREATE SEQUENCE AUX_BIOFACT_SEQ NOCACHE;

/* GO */

DROP TABLE GOBIOCONCEPT;
CREATE TABLE GOBIOCONCEPT ( 
BIOCONCEPT_ID INTEGER NOT NULL, 
GO_ID INTEGER NOT NULL, 
GO_ASPECT VARCHAR2(40) NOT NULL, 
DIRECT_GENE_COUNT INTEGER NOT NULL, 
CONSTRAINT GOBIOCONCEPT_PK PRIMARY KEY (BIOCONCEPT_ID) ) TABLESPACE DATA1;
CREATE INDEX GOBIOCONCEPT_GO_INDEX ON GOBIOCONCEPT (GO_ID, GO_ASPECT, DIRECT_GENE_COUNT) TABLESPACE DATA1;
ALTER TABLE GOBIOCONCEPT 
ADD CONSTRAINT GOBIOCON_BIOCON_FK FOREIGN KEY (BIOCONCEPT_ID) REFERENCES BIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE GOEVIDENCE;
CREATE TABLE GOEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL,
BIOCONCEPT_ID INTEGER NOT NULL,
GO_EVIDENCE VARCHAR2(40) NOT NULL, 
ANNOTATION_TYPE VARCHAR2(40) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
DATE_LAST_REVIEWED DATE NOT NULL, 
QUALIFIER VARCHAR2(40) NOT NULL, 
CONSTRAINT GOEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX GOEV_BIOENT_FK_INDEX ON GOEVIDENCE (BIOENTITY_ID) TABLESPACE DATA1;
CREATE INDEX GOEV_BIOCON_FK_INDEX ON GOEVIDENCE	(BIOCONCEPT_ID) TABLESPACE DATA1;
ALTER TABLE GOEVIDENCE 
ADD CONSTRAINT GOEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOEVIDENCE 
ADD CONSTRAINT GOEV_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE GOEVIDENCE 
ADD CONSTRAINT GOEV_GO_FK FOREIGN KEY (BIOCONCEPT_ID) REFERENCES GOBIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

/* Chemical */

DROP TABLE CHEMICAL;
CREATE TABLE CHEMICAL ( CHEMICAL_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
SOURCE VARCHAR2(40) NOT NULL, 
OBJ_URL VARCHAR2(500), 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT CHEMICAL_PK PRIMARY KEY (CHEMICAL_ID), 
CONSTRAINT CHEMICAL_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA1;
DROP SEQUENCE CHEM_SEQ;
CREATE SEQUENCE CHEM_SEQ NOCACHE;

DROP TABLE CHEMICAL_RELATION;
CREATE TABLE CHEMICAL_RELATION ( 
CHEMICAL_RELATION_ID INTEGER NOT NULL, 
PARENT_CHEMICAL_ID INTEGER NOT NULL,
CHILD_CHEMICAL_ID INTEGER NOT NULL, 
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL, 
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT CHEMICAL_RELATION_PK PRIMARY KEY (CHEMICAL_RELATION_ID) ) TABLESPACE DATA1;
CREATE INDEX CHEMREL_PARENT_FK_INDEX ON CHEMICAL_RELATION (PARENT_CHEMICAL_ID) TABLESPACE DATA1;
CREATE INDEX CHEMREL_CHILD_FK_INDEX ON CHEMICAL_RELATION (CHILD_CHEMICAL_ID) TABLESPACE DATA1;
ALTER TABLE CHEMICAL_RELATION 
ADD CONSTRAINT CHEMREL_PARENT_FK FOREIGN KEY (PARENT_CHEMICAL_ID) REFERENCES CHEMICAL (CHEMICAL_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE CHEMICAL_RELATION 
ADD CONSTRAINT CHEMREL_CHILD_FK FOREIGN KEY (CHILD_CHEMICAL_ID) REFERENCES CHEMICAL (CHEMICAL_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE EVIDENCE_CHEMICAL;
CREATE TABLE EVIDENCE_CHEMICAL ( 
EVIDENCE_CHEMICAL_ID INTEGER NOT NULL, 
EVIDENCE_ID INTEGER NOT NULL, 
CHEMICAL_ID INTEGER NOT NULL, 
CLASS VARCHAR(40) NOT NULL,
CHEMICAL_AMOUNT VARCHAR2(200),  
CONSTRAINT EVIDENCE_CHEMICAL_PK PRIMARY KEY (EVIDENCE_CHEMICAL_ID), 
CONSTRAINT EVIDENCE_CHEMICAL_UK UNIQUE (CHEMICAL_AMOUNT, CHEMICAL_ID, EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX EVCHEM_EV_FK_INDEX ON EVIDENCE_CHEMICAL (EVIDENCE_ID) TABLESPACE DATA1;
CREATE INDEX EVCHEM_CHEM_FK_INDEX ON EVIDENCE_CHEMICAL (CHEMICAL_ID) TABLESPACE DATA1;
ALTER TABLE EVIDENCE_CHEMICAL 
ADD CONSTRAINT EVCHEM_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE EVIDENCE_CHEMICAL 
ADD CONSTRAINT EVCHEM_CHEM_FK FOREIGN KEY (CHEMICAL_ID) REFERENCES CHEMICAL (CHEMICAL_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
DROP SEQUENCE EVCHEM_SEQ;
CREATE SEQUENCE EVCHEM_SEQ NOCACHE;

/* Phenotype */

DROP TABLE ALLELE;
CREATE TABLE ALLELE ( 
ALLELE_ID INTEGER NOT NULL, 
FORMAT_NAME VARCHAR2(100) NOT NULL, 
DISPLAY_NAME VARCHAR2(500) NOT NULL, 
DESCRIPTION VARCHAR2(200), 
OBJ_URL VARCHAR2(500) NOT NULL,
DATE_CREATED DATE DEFAULT SYSDATE NOT NULL,
CREATED_BY VARCHAR2(12) DEFAULT SUBSTR(USER,1,12) NOT NULL, 
CONSTRAINT ALLELE_PK PRIMARY KEY (ALLELE_ID) , 
CONSTRAINT ALLELE_UK UNIQUE (FORMAT_NAME) ) TABLESPACE DATA1;
DROP SEQUENCE ALLELE_SEQ;
CREATE SEQUENCE ALLELE_SEQ NOCACHE;

DROP TABLE PHENOTYPEBIOCONCEPT;
CREATE TABLE PHENOTYPEBIOCONCEPT ( 
BIOCONCEPT_ID INTEGER NOT NULL, 
PHENOTYPE_TYPE VARCHAR2(20) NOT NULL, 
DIRECT_GENE_COUNT INTEGER, 
MUTANT_TYPE VARCHAR2(100) NOT NULL, 
QUALIFIER VARCHAR2(200) NOT NULL, 
OBSERVABLE VARCHAR2(200) NOT NULL, 
CONSTRAINT PHENOTYPEBIOCONCEPT_PK PRIMARY KEY (BIOCONCEPT_ID), 
CONSTRAINT PHENOTYPEBIOCONCEPT_UK UNIQUE (MUTANT_TYPE, QUALIFIER, OBSERVABLE) ) TABLESPACE DATA1;
ALTER TABLE PHENOTYPEBIOCONCEPT 
ADD CONSTRAINT PHENO_FK FOREIGN KEY (BIOCONCEPT_ID) REFERENCES BIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

DROP TABLE PHENOTYPEEVIDENCE;
CREATE TABLE PHENOTYPEEVIDENCE ( 
EVIDENCE_ID INTEGER NOT NULL, 
BIOENTITY_ID INTEGER NOT NULL,
BIOCONCEPT_ID INTEGER NOT NULL,
MUTANT_TYPE VARCHAR2(100), 
QUALIFIER VARCHAR2(200), 
ALLELE_ID INTEGER, 
REPORTER VARCHAR2(100), 
REPORTER_DESC VARCHAR2(200), 
STRAIN_DETAILS VARCHAR2(100), 
CONDITIONS VARCHAR2(100), 
DETAILS VARCHAR2(500), 
EXPERIMENT_DETAILS VARCHAR2(200), 
ALLELE_INFO VARCHAR2(250), 
CONSTRAINT PHENOTYPEEVIDENCE_PK PRIMARY KEY (EVIDENCE_ID) ) TABLESPACE DATA1;
CREATE INDEX PHENOEV_BIOENT_FK_INDEX ON PHENOTYPEEVIDENCE (BIOENTITY_ID) TABLESPACE DATA1;
CREATE INDEX PHENOEV_BIOCON_FK_INDEX ON PHENOTYPEEVIDENCE (BIOCONCEPT_ID) TABLESPACE DATA1;
CREATE INDEX PHENOEV_ALLELE_FK_INDEX ON PHENOTYPEEVIDENCE (ALLELE_ID) TABLESPACE DATA1;
ALTER TABLE PHENOTYPEEVIDENCE 
ADD CONSTRAINT PHENOEV_EV_FK FOREIGN KEY (EVIDENCE_ID) REFERENCES EVIDENCE (EVIDENCE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEEVIDENCE 
ADD CONSTRAINT PHENOEV_BIOENT_FK FOREIGN KEY (BIOENTITY_ID) REFERENCES BIOENTITY (BIOENTITY_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEEVIDENCE 
ADD CONSTRAINT PHENOEV_PHENOTYPE_FK FOREIGN KEY (BIOCONCEPT_ID) REFERENCES PHENOTYPEBIOCONCEPT (BIOCONCEPT_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;
ALTER TABLE PHENOTYPEEVIDENCE 
ADD CONSTRAINT PHENOEV_ALLELE_FK FOREIGN KEY (ALLELE_ID) REFERENCES ALLELE (ALLELE_ID) 
ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE VALIDATE;

