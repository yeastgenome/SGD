<div metal:use-macro="layout">
  <div metal:fill-slot="content">


<body>
	
<!-- Subhead
================================================== -->
<header class="jumbotron subhead" id="overview">
	<div class="container">
		<br></br>
		<h1><span tal:content="bioent.full_name"></h1>
		<p class="lead">
		</p>
	</div>
</header>


<div class="container-fluid">

<!-- Docs nav
================================================== -->
<div class="row-fluid">
	<div id='sidebar' class="span3 bs-docs-sidebar">
		<ul class="nav nav-list bs-docs-sidenav affix-top" id='navbar' name='navbar' style="margin-left:auto; margin-right:auto">
			<li><h3><span tal:content="bioent.full_name"></h3></li>
			<li><a href="#summary"><i class="icon-chevron-right"></i> Summary</a></li>
			<li><a href="#location"><i class="icon-chevron-right"></i> Sequence and Location</a></li>
			<li><a href="#chemical"><i class="icon-chevron-right"></i> Physico-chemical Properties</a></li>
		</ul>
	</div>
	
	<div class="span9">  

<!-- Summary
================================================== -->
<section id="summary">
	<div class="page-header">
		<h1>Summary</h1>
		<div>
			<ul class='unstyled'>
				<li><strong>Standard Name: </strong><span tal:content="bioent.name"></li>
				<li><strong>Systematic Name: </strong><span tal:content="bioent.official_name"></li>
				<br></br>
				<li><strong>Gene: </strong><span tal:content="structure bioent.transcript.gene.name_with_link"></li>
				<br>
			</ul>
		</div>
	</div>
</section>

<!-- Sequence and Location
================================================== -->
<section id="location">
	<div class="page-header">
		<h1>Sequence and Location</h1>
		
		<!-- Brief
		========================================== -->
		<h3>Variation Map:</h3>

		<ul class='unstyled'>
			<li><strong>Pan-Genome: </strong>Core</li>
		</ul>
					
		<strong>Gene</strong>
		<div id='dna_conserve' width="100%"></div>
		<div id='dna_conserve_seq' width="100%"></div>
		
		<strong>Protein</strong>
		<div id='protein_conserve' width="100%"></div>
		<div id='protein_conserve_seq' width="100%"></div>
		
		<h3>Gene Map:</h3><select>
    	<option value="S288C">S288C</option>
    	<option value="Sigma1278b">Sigma1278b</option>
    	<option value="SEY6210">SEY6210</option>
    	<option value="W303">W303</option>
    	<option value="Cen.PK">Cen.PK</option>
    	<option value="SK1">SK1</option>
    	<option value="FL100">FL100</option>
    	<option value="JK9">JK9</option>
    	<option value="D273">D273</option>
    	<option value="Y55">Y55</option>
  		</select>
  		<br></br>
  		
		<strong>Gene</strong>
		<div id='dna' width="100%"></div>
		<div id='dna_seq'></div>

		<strong>Transcript</strong>
		<div id='rna' width="100%"></div>
		<div id='rna_seq' width="100%"></div>
		
		<strong>Protein</strong>
		<div id='protein' width="100%"></div>
		<div id='protein_seq' width="100%"></div>
		
		<div id='tools'>
			<button id='zoom_out' class="btn" onclick="document.getElementById('zoom_out').disabled = zoom_out(legend) == 1;" disabled=true><i class="icon-minus"></i></button><button class="btn" onclick="zoom_full(legend); document.getElementById('zoom_out').disabled = true;"><i class="icon-resize-full"></i></button><button class="btn" onclick="zoom_in(legend); document.getElementById('zoom_out').disabled = false;"><i class="icon-plus"></i></button>
		<div id='legend'></div>
	</div>
</section>

<!-- Physico-Chemical Properties
================================================== -->
<section id="chemical">
	<div class="page-header">
		<h1>Physico-Chemical Properties</h1>
		<h3>Amino Acid Composition</h3>
		<table class='table table-striped table-bordered table-condensed tablesorter' id='aa_comp' width="100%">
		<thead>
  			<tr>
    			<th>Amino Acid</th>
    			<th>Amino Acid Abbreviation</th>
    			<th>Count</th>
    			<th>Percentage</th>
  			</tr>
  			<tr>
  				<td>Alanine</td>
  				<td>Ala</td>
  				<td tal:content="bioent.ala"></td>
  				<td tal:content="bioent.get_percent_aa('ala')"></td>
  			</tr>
  			<tr>
  				<td>Arginine</td>
  				<td>Arg</td>
  				<td tal:content="bioent.arg"></td>
  				<td tal:content="bioent.get_percent_aa('arg')"></td>
  			</tr>
  			<tr>
  				<td>Asparagine</td>
  				<td>Asn</td>
  				<td tal:content="bioent.asn"></td>
  				<td tal:content="bioent.get_percent_aa('asn')"></td>
  			</tr>
  			<tr>
  				<td>Aspartic Acid</td>
  				<td>Asp</td>
  				<td tal:content="bioent.asp"></td>
  				<td tal:content="bioent.get_percent_aa('asp')"></td>
  			</tr>
  			<tr>
  				<td>Cysteine</td>
  				<td>Cys</td>
  				<td tal:content="bioent.cys"></td>
  				<td tal:content="bioent.get_percent_aa('cys')"></td>
  			</tr>
  			<tr>
  				<td>Glutamic Acid</td>
  				<td>Glu</td>
  				<td tal:content="bioent.glu"></td>
  				<td tal:content="bioent.get_percent_aa('glu')"></td>
  			</tr>
  			<tr>
  				<td>Glutamine</td>
  				<td>Gln</td>
  				<td tal:content="bioent.gln"></td>
  				<td tal:content="bioent.get_percent_aa('gln')"></td>
  			</tr>
  			<tr>
  				<td>Glycine</td>
  				<td>Gly</td>
  				<td tal:content="bioent.gly"></td>
  				<td tal:content="bioent.get_percent_aa('gly')"></td>
  			</tr>
  			<tr>
  				<td>Histidine</td>
  				<td>His</td>
  				<td tal:content="bioent.his"></td>
  				<td tal:content="bioent.get_percent_aa('his')"></td>
  			</tr>
  			<tr>
  				<td>Isoleucine</td>
  				<td>Ile</td>
  				<td tal:content="bioent.ile"></td>
  				<td tal:content="bioent.get_percent_aa('ile')"></td>
  			</tr>
  			<tr>
  				<td>Leucine</td>
  				<td>Leu</td>
  				<td tal:content="bioent.leu"></td>
  				<td tal:content="bioent.get_percent_aa('leu')"></td>
  			</tr>
  			<tr>
  				<td>Lysine</td>
  				<td>Lys</td>
  				<td tal:content="bioent.lys"></td>
  				<td tal:content="bioent.get_percent_aa('lys')"></td>
  			</tr>
  			<tr>
  				<td>Methionine</td>
  				<td>Met</td>
  				<td tal:content="bioent.met"></td>
  				<td tal:content="bioent.get_percent_aa('met')"></td>
  			</tr>
  			<tr>
  				<td>Phenylalanine</td>
  				<td>Phe</td>
  				<td tal:content="bioent.phe"></td>
  				<td tal:content="bioent.get_percent_aa('phe')"></td>
  			</tr>
  			<tr>
  				<td>Proline</td>
  				<td>Pro</td>
  				<td tal:content="bioent.pro"></td>
  				<td tal:content="bioent.get_percent_aa('pro')"></td>
  			</tr>
  			<tr>
  				<td>Serine</td>
  				<td>Ser</td>
  				<td tal:content="bioent.ser"></td>
  				<td tal:content="bioent.get_percent_aa('ser')"></td>
  			</tr>
  			<tr>
  				<td>Threonine</td>
  				<td>Thr</td>
  				<td tal:content="bioent.thr"></td>
  				<td tal:content="bioent.get_percent_aa('thr')"></td>
  			</tr>
  			<tr>
  				<td>Tryptophan</td>
  				<td>Trp</td>
  				<td tal:content="bioent.trp"></td>
  				<td tal:content="bioent.get_percent_aa('trp')"></td>
  			</tr>
  			<tr>
  				<td>Tyrosine</td>
  				<td>Tyr</td>
  				<td tal:content="bioent.tyr"></td>
  				<td tal:content="bioent.get_percent_aa('tyr')"></td>
  			</tr>
  			<tr>
  				<td>Valine</td>
  				<td>Val</td>
  				<td tal:content="bioent.val"></td>
  				<td tal:content="bioent.get_percent_aa('val')"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
  		
  		<h3>Atomic Composition</h3>
  		<table class='table table-striped table-bordered table-condensed tablesorter' id='atomic_comp' width="100%">
  		<thead>
  			<tr>
    			<th>Atom</th>
    			<th>Count</th>
  			</tr>
  			<tr>
  				<td>H</td>
  				<td tal:content="bioent.atomic_comp_H"></td>
  			</tr>
  			<tr>
  				<td>S</td>
  				<td tal:content="bioent.atomic_comp_S"></td>
  			</tr>
  			<tr>
  				<td>N</td>
  				<td tal:content="bioent.atomic_comp_N"></td>
  			</tr>
  			<tr>
  				<td>O</td>
  				<td tal:content="bioent.atomic_comp_O"></td>
  			</tr>
  			<tr>
  				<td>C</td>
  				<td tal:content="bioent.atomic_comp_C"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
  		
  		<h3>Estimated Half-Life</h3>
  		<table class='table table-striped table-bordered table-condensed tablesorter' id='half_life' width="100%">
  		<thead>
  			<tr>
    			<th>Organism</th>
    			<th>Half-Life</th>
  			</tr>
  			<tr>
  				<td>Yeast (in vivo)</td>
  				<td tal:content="bioent.half_life_yeast_in_vivo"></td>
  			</tr>
  			<tr>
  				<td>E. coli (in vivo)</td>
  				<td tal:content="bioent.half_life_ecoli_in_vivo"></td>
  			</tr>
  			<tr>
  				<td>Mammalian Reticulocytes (in vitro)</td>
  				<td tal:content="bioent.half_life_mammalian_reticulocytes_in_vitro"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
  		
  		<h3>Extinction Coefficients</h3>
  		<p>* At 280 nm</p>
  		<table class='table table-striped table-bordered table-condensed tablesorter' id='extinction_coeff' width="100%">
  		<thead>
  			<tr>
    			<th>Assumption</th>
    			<th>Coefficient (M<sup>-1</sup> cm<sup>-1</sup>)</th>
  			</tr>
  			<tr>
  				<td>All Cys residues appear as half cystines</td>
  				<td tal:content="bioent.extinction_coeff_all_cys_residues_as_half_cystines"></td>
  			</tr>
  			<tr>
  				<td>No Cys residues appear as half cystines</td>
  				<td tal:content="bioent.extinction_coeff_no_cys_residues_as_half_cystines"></td>
  			</tr>
  			<tr>
  				<td>All Cys residues are reduced</td>
  				<td tal:content="bioent.extinction_coeff_all_cys_residues_reduced"></td>
  			</tr>
  			<tr>
  				<td>All pairs of Cys residues form cystines</td>
  				<td tal:content="bioent.extinction_coeff_all_cys_pairs_form_cystines"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
  		
  		<h3>Coding Region Translation Calculations</h3>
  		<table class='table table-striped table-bordered table-condensed tablesorter' id='coding_region' width="100%">
  		<thead>
  			<tr>
    			<th>Measurement</th>
    			<th>Value</th>
  			</tr>
  			<tr>
  				<td>Codon Bias</td>
  				<td></td>
  			</tr>
  			<tr>
  				<td>Codon Adaptation Index</td>
  				<td tal:content="bioent.cai"></td>
  			</tr>
  			<tr>
  				<td>Frequency of Optimal Codons</td>
  				<td></td>
  			</tr>
  			<tr>
  				<td>Hydropathicity of Protein</td>
  				<td tal:content="bioent.pi"></td>
  			</tr>
  			<tr>
  				<td>Aromaticity Score</td>
  				<td tal:content="bioent.aromaticity_score"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
  		
  		<h3>Indices</h3>
  		<table class='table table-striped table-bordered table-condensed tablesorter' id='indices' width="100%">
  		<thead>
  			<tr>
    			<th>Index</th>
    			<th>Value</th>
  			</tr>
  			<tr>
  				<td>Instability Index</td>
  				<td tal:content="bioent.instability_index"></td>
  			</tr>
  			<tr>
  				<td>Aliphatic Index</td>
  				<td tal:content="bioent.aliphatic_index"></td>
  			</tr>
  		</thead>
  		</table>
  		<br></br>
	</div>

</div>

<script>
	var stage1 = draw_sequence('dna_conserve', 'dna_conserve_seq', ' ', '#FAFAFA');
	var stage2 = draw_sequence('protein_conserve', 'protein_conserve_seq', ' ', '#FAFAFA');

	var stage3 = draw_sequence('dna', 'dna_seq', ' ', 'silver');
	var stage4 = draw_sequence('rna', 'rna_seq', ' ', 'silver');
	var stage5 = draw_sequence('protein', 'protein_seq', ' ', 'silver');
	
	var legend = add_legend('legend', [stage1, stage2, stage3, stage4, stage5]);

	
	$(document).ready(function() {
		//Get sequence data
		$.getJSON('${link_maker.sequence_link}', function(data) {
			set_seq(stage3, data['GENE'][0][0]);
			//set_seq(stage5, data['PROTEIN'][0][0]);
			
			
			set_tags(stage1, [['', 20, 3, 'red'], ['', 50, 5, 'red'], ['', 75, 10, '#F5A9A9'], ['', 30, 4, '#F5A9A9']]);
			set_tags(stage2, [['', 20, 3, 'red'], ['', 50, 5, 'red'], ['', 78, 5, '#F5A9A9'], ['', 30, 4, '#F5A9A9']]);
			set_tags(stage3, data['GENE'][0][1]);
			set_tags(stage4, [['Spliced', 40, 10, '#424242'], ["5' UTR", 15, 5, '#424242'], ["3' UTR", 90, 5, '#424242'], ['spacer', 0, 15], ['spacer', 95, 5]]);
			set_tags(stage5, [['Domain 1', 20, 5, 'blue'], ['Domain 2', 55, 5, 'blue'], ['spacer', 40, 10],  ['spacer', 0, 20], ['spacer', 90, 10], ['Domain 3', 70, 15, 'blue']]);
		});
	});
</script>
</body>
</div>
</div>

