<div metal:use-macro="layout">
  <div metal:fill-slot="content">


<body>

<!-- Subhead
================================================== -->
<header class="jumbotron subhead" id="overview">
	<div class="container">
		<h1><span tal:content="biorel.basic_info.name"></h1>
		<p class="lead">
			<span tal:content="biorel.basic_info.description"></span>
		</p>
	</div>
</header>


<div class="container">

<!-- Docs nav
================================================== -->
<div class="row">
	<div class="span3 bs-docs-sidebar">
		<ul class="nav nav-list bs-docs-sidenav affix-top" id='navbar' name='navbar'>
			<li><h3><span tal:content="biorel.basic_info.name"></h3></li>
			<li><a href="#summary"><i class="icon-chevron-right"></i> Summary</a></li>
			<li><a href="#genetic_evidence"><i class="icon-chevron-right"></i> Genetic Evidence</a></li>
			<li><a href="#physical_evidence"><i class="icon-chevron-right"></i> Physical Evidence</a></li>
          	<li><a href="#literature"><i class="icon-chevron-right"></i> References</a></li>

		</ul>
	</div>
	
	<div class="span9">  

<!-- Summary
================================================== -->
<section id="summary">
	<div class="page-header">
		<h1>Summary</h1>
		<div>
			<dl>
				<dt>Interacting Bioentities:</dt>
				<a tal:attributes="href biorel.basic_info.source.link" tal:content="biorel.basic_info.source.full_name">
				<dd tal:content="biorel.basic_info.source.description"></dd>
				<a tal:condition="python: biorel.basic_info.sink" tal:attributes="href biorel.basic_info.sink.link" tal:content="biorel.basic_info.sink.full_name">
				<dd tal:condition="python: biorel.basic_info.sink" tal:content="biorel.basic_info.sink.description"></dd>

			</dl>
		</div>
	</div>
</section>

<!-- Genetic Evidence
================================================== -->
<section id="genetic_evidence">
	<div class="page-header">
		<h1>Genetic Evidence <span id='genetic_evidence_header'></h1>

		<div id='genetic_evidence_wrapper'>
			<span id='genetic_evidence_message'></span>
			<table class='table table-striped table-bordered table-condensed tablesorter' id='genetic_evidence_table'>
			<thead>
  			<tr>
  				<th>Interaction</th>
    			<th>Experiment</th>
    			<th>Annotation</th>
    			<th>Direction</th>
    			<th>Phenotype</th>
    			<th>Reference</th>
  			</tr>
  			</thead>
			</table>
        </div>
		
	</div>
</section>

<!-- Physical Evidence
================================================== -->
<section id="physical_evidence">
	<div class="page-header">
		<h1>Physical Evidence <span id='physical_evidence_header'></h1>

		<div id='physical_evidence_wrapper'>
			<span id='physical_evidence_message'></span>
			<table class='table table-striped table-bordered table-condensed tablesorter' id='physical_evidence_table'>
			<thead>
  			<tr>
  				<th>Interaction</th>
    			<th>Experiment</th>
    			<th>Annotation</th>
    			<th>Direction</th>
    			<th>Modification</th>
    			<th>Reference</th>
  			</tr>
  			</thead>
			</table>
        </div>
		
	</div>
</section>

<!-- References
================================================== -->
<section id="literature">
	<div class="page-header">
		<h1>References</h1>
		<ul id='reference_list'>
		</ul>
	</div>
</section>

<script>
	$(document).ready(function() {
  		$('#genetic_evidence_table').dataTable( {
    		"sPaginationType": "bootstrap",
    		"aaSorting": [[0, "asc"], [1, "asc"]],
    		"sAjaxSource": '${biorel['genetic_evidence_link']}',
    		"fnInitComplete": function() {
    			this.fnAdjustColumnSizing(true);
    			if('${biorel['basic_info']['all']}' == 0) {
					this.fnSetColumnVis(0, false);
    			}
    			var num_rows = this.fnSettings().fnRecordsTotal();
    			document.getElementById("genetic_evidence_header").innerHTML = '(' + num_rows + ')';
    		},
    		"sDom": '<"clear">lfrtipT',
        	"oTableTools": {
        		"aButtons": [
                	"copy",
                	"print",
					{
                    	"sExtends": "csv",
                    	"sTitle": '${biorel["basic_info"]["name"]}_genetic_evidence.csv'
                	},
                	{
                    	"sExtends": "xls",
                    	"sTitle": '${biorel["basic_info"]["name"]}_genetic_evidence.xls'
                	}	
            	],
            	"sSwfPath": "../static/js/copy_csv_xls_pdf.swf"
        	}
  		} );
  		
  		
	} );
</script>

<script>
	$(document).ready(function() {
  		$('#physical_evidence_table').dataTable( {
    		"sPaginationType": "bootstrap",
    		"aaSorting": [[0, "asc"], [1, "asc"]],
    		"sAjaxSource": '${biorel['physical_evidence_link']}',
    		"fnInitComplete": function() {
    			this.fnAdjustColumnSizing(true);
				if('${biorel['basic_info']['all']}' == 0) {
					this.fnSetColumnVis(0, false);
    			}    			
    			var num_rows = this.fnSettings().fnRecordsTotal();
    			document.getElementById("physical_evidence_header").innerHTML = '(' + num_rows + ')';
    		},
    		"sDom": '<"clear">lfrtipT',
        	"oTableTools": {
        	"aButtons": [
                "copy",
                "print",
				{
                    "sExtends": "csv",
                    "sTitle": '${biorel["basic_info"]["name"]}_physical_evidence.csv'
                },
                {
                    "sExtends": "xls",
                    "sTitle": '${biorel["basic_info"]["name"]}_physical_evidence.xls'
                }	
            ],
            "sSwfPath": "../static/js/copy_csv_xls_pdf.swf"
        }
  		} );
  		
  		
	} );
</script>

<tal:block tal:define="references_link biorel.references_link">
<script>
$(document).ready(function() {
  	$.getJSON('${references_link}', function(data) {  		

  		ref_list = document.getElementById("reference_list");
  		
		for (var i=0; i < data.length; i++) {
			var reference = data[i];
			var p=document.createElement('p');
			p.innerHTML = reference['citation'];
			ref_list.appendChild(p);
		}
  	});
} );
</script>
</tal:block>

</div>

</body>
</div>
</div>

